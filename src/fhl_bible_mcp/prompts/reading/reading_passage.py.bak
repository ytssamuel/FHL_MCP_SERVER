"""
FHL Bible MCP Server - Reading Passage Prompt

æ®µè½è®€ç¶“è¼”åŠ©ï¼Œé‡å°è·¨ç« ç¯€ç¶“æ–‡æ®µè½çš„æ·±å…¥ç ”è®€
"""

from ..base import PromptTemplate


class ReadingPassagePrompt(PromptTemplate):
    """è®€ç¶“ - æ®µè½è®€ç¶“è¼”åŠ© Prompt"""
    
    def __init__(self):
        super().__init__(
            name="reading_passage",
            description="é–±è®€å’Œåˆ†æžä¸€æ®µç¶“æ–‡ï¼ˆå¯èƒ½è·¨è¶Šå¤šå€‹ç« ç¯€ï¼‰ï¼ŒåŒ…å«èƒŒæ™¯ã€ä¸»é¡Œã€è§£ç¶“å’Œæ‡‰ç”¨",
            arguments=[
                {
                    "name": "book",
                    "description": "ç¶“å·åç¨±ï¼ˆä¸­æ–‡æˆ–è‹±æ–‡ï¼‰",
                    "required": True
                },
                {
                    "name": "start_chapter",
                    "description": "èµ·å§‹ç« ",
                    "required": True
                },
                {
                    "name": "start_verse",
                    "description": "èµ·å§‹ç¯€",
                    "required": True
                },
                {
                    "name": "end_chapter",
                    "description": "çµæŸç« ",
                    "required": True
                },
                {
                    "name": "end_verse",
                    "description": "çµæŸç¯€",
                    "required": True
                },
                {
                    "name": "version",
                    "description": "è–ç¶“ç‰ˆæœ¬ä»£ç¢¼ï¼ˆé è¨­ï¼šunvï¼‰",
                    "required": False
                }
            ]
        )
    
    def render(
        self,
        book: str = "ç´„ç¿°ç¦éŸ³",
        start_chapter: int = 3,
        start_verse: int = 1,
        end_chapter: int = 3,
        end_verse: int = 21,
        version: str = "unv"
    ) -> str:
        """æ¸²æŸ“æ®µè½è®€ç¶“çš„ prompt"""
        passage_ref = f"{book} {start_chapter}:{start_verse}-{end_chapter}:{end_verse}"
        is_cross_chapter = start_chapter != end_chapter
        
        return f"""# æ®µè½è®€ç¶“ - {passage_ref}

æ­¡è¿Žä¾†åˆ°æ®µè½è®€ç¶“ï¼è®“æˆ‘å€‘æ·±å…¥æŽ¢ç´¢é€™æ®µé‡è¦çš„ç¶“æ–‡ã€‚

ã€ç¶“æ–‡è³‡è¨Šã€‘
â€¢ ç¶“å·ï¼š{book}
â€¢ ç¯„åœï¼š{start_chapter}:{start_verse} - {end_chapter}:{end_verse}
â€¢ ç‰ˆæœ¬ï¼š{version.upper()}
â€¢ è·¨ç« ç¯€ï¼š{'æ˜¯' if start_chapter != end_chapter else 'å¦'}

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
æ­¥é©Ÿ 1ï¼šæ®µè½ç²å– ðŸ“š
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

é¦–å…ˆï¼Œè®“æˆ‘å€‘å–å¾—é€™æ®µç¶“æ–‡çš„å®Œæ•´å…§å®¹ã€‚

ã€ç²å–ç¶“æ–‡ã€‘ï¼š

{self._render_fetch_commands(book, start_chapter, start_verse, end_chapter, end_verse, version)}

ã€åˆæ­¥é–±è®€ã€‘ï¼š

è«‹å…ˆé–±è®€ 2-3 éï¼Œæ¯æ¬¡æ³¨æ„ä¸åŒé‡é»žï¼š

ðŸ” **ç¬¬ä¸€é - æ•´é«”å°è±¡**ï¼š
   â€¢ é€™æ®µç¶“æ–‡åœ¨è¬›ä»€éº¼ï¼Ÿ
   â€¢ æœ‰ä»€éº¼äººç‰©ã€åœ°é»žæˆ–äº‹ä»¶ï¼Ÿ
   â€¢ æ•´é«”çš„æƒ…ç·’æ°›åœæ˜¯ä»€éº¼ï¼Ÿ

ðŸ” **ç¬¬äºŒé - ç´°ç¯€è§€å¯Ÿ**ï¼š
   â€¢ æœ‰å“ªäº›é—œéµå­—è©žåè¦†å‡ºç¾ï¼Ÿ
   â€¢ æœ‰ä»€éº¼å°æ¯”æˆ–æ¼¸é€²çš„é—œä¿‚ï¼Ÿ
   â€¢ ä½œè€…çš„å¯«ä½œæ‰‹æ³•æ˜¯ä»€éº¼ï¼Ÿ

ðŸ” **ç¬¬ä¸‰é - çµæ§‹åˆ†æž**ï¼š
   â€¢ é€™æ®µå¦‚ä½•é–‹å§‹å’ŒçµæŸï¼Ÿ
   â€¢ ä¸­é–“çš„è«–è­‰æˆ–æ•˜äº‹å¦‚ä½•ç™¼å±•ï¼Ÿ
   â€¢ æœ‰æ²’æœ‰è½‰æŠ˜æˆ–é«˜æ½®ï¼Ÿ

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
æ­¥é©Ÿ 2ï¼šæ®µè½èƒŒæ™¯ ðŸ“œ
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

äº†è§£é€™æ®µç¶“æ–‡çš„èƒŒæ™¯è„ˆçµ¡ï¼Œå¹«åŠ©æˆ‘å€‘æ­£ç¢ºç†è§£å…¶æ„ç¾©ã€‚

ã€ä¸Šä¸‹æ–‡é€£çµã€‘ï¼š

ðŸ”¼ **å‰æ–‡ï¼ˆ{start_chapter}:{start_verse} ä¹‹å‰ï¼‰**ï¼š
   â€¢ é€™æ®µä¹‹å‰ç™¼ç”Ÿäº†ä»€éº¼ï¼Ÿ
   â€¢ æœ‰ä»€éº¼é‹ªå¢Šæˆ–ä¼ç­†ï¼Ÿ
   â€¢ å»ºè­°é–±è®€ï¼š{book} {max(1, start_chapter-1)} ç« 

ðŸ”½ **å¾Œæ–‡ï¼ˆ{end_chapter}:{end_verse} ä¹‹å¾Œï¼‰**ï¼š
   â€¢ é€™æ®µä¹‹å¾Œæœƒç™¼ç”Ÿä»€éº¼ï¼Ÿ
   â€¢ æœ‰ä»€éº¼å»¶çºŒæˆ–å›žæ‡‰ï¼Ÿ
   â€¢ å»ºè­°é–±è®€ï¼š{book} {end_chapter+1} ç« 

ã€æ›¸å·è„ˆçµ¡ã€‘ï¼š

é€™æ®µç¶“æ–‡åœ¨å…¨æ›¸ä¸­çš„ä½ç½®ï¼š

â€¢ ðŸ“– æ›¸å·ä¸»é¡Œï¼š________________
â€¢ ðŸ“ æ®µè½ä½ç½®ï¼šå…¨æ›¸çš„ ______ éƒ¨åˆ†
â€¢ ðŸŽ¯ æ®µè½è§’è‰²ï¼š________________
  â–¡ å¼•è¨€é–‹å ´
  â–¡ ä¸»é«”è«–è¿°
  â–¡ é«˜æ½®è½‰æŠ˜
  â–¡ çµè«–æ”¶å°¾
  â–¡ ç¨ç«‹å–®å…ƒ

ã€æŸ¥çœ‹æ›¸å·è³‡è¨Šã€‘ï¼š
```
# äº†è§£æ›¸å·èƒŒæ™¯
info://books

# æŸ¥çœ‹å‰å¾Œç« ç¯€
get_bible_chapter(book="{book}", chapter={start_chapter-1 if start_chapter > 1 else 1}, version="{version}")
get_bible_chapter(book="{book}", chapter={end_chapter+1}, version="{version}")
```

ã€æ­·å²æ–‡åŒ–èƒŒæ™¯ã€‘ï¼š

ðŸ’¡ **æ­·å²è™•å¢ƒ**ï¼š
   â€¢ å¯«ä½œæ™‚é–“ï¼š________________
   â€¢ æ­·å²äº‹ä»¶ï¼š________________
   â€¢ ç¤¾æœƒç‹€æ³ï¼š________________

ðŸ’¡ **æ–‡åŒ–èƒŒæ™¯**ï¼š
   â€¢ é¢¨ä¿—ç¿’æ…£ï¼š________________
   â€¢ å®—æ•™å‚³çµ±ï¼š________________
   â€¢ ç”Ÿæ´»æ–¹å¼ï¼š________________

ðŸ’¡ **å¯«ä½œç›®çš„**ï¼š
   â€¢ åŽŸæœ¬è®€è€…ï¼š________________
   â€¢ é¢å°å•é¡Œï¼š________________
   â€¢ ä½œè€…æ„åœ–ï¼š________________

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
æ­¥é©Ÿ 3ï¼šä¸»é¡Œè­˜åˆ¥ ðŸŽ¯
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

è­˜åˆ¥é€™æ®µç¶“æ–‡çš„æ ¸å¿ƒä¸»é¡Œå’Œæ¬¡è¦ä¸»é¡Œã€‚

ã€ä¸»è¦ä¸»é¡Œã€‘ï¼š

é€™æ®µç¶“æ–‡çš„ä¸­å¿ƒä¸»é¡Œæ˜¯ä»€éº¼ï¼Ÿ

ä¸»é¡Œï¼š________________

æ”¯æŒè­‰æ“šï¼š
â€¢ ç¬¬ ___:___ - ________________
â€¢ ç¬¬ ___:___ - ________________
â€¢ ç¬¬ ___:___ - ________________

ã€æ¬¡è¦ä¸»é¡Œã€‘ï¼š

é‚„æœ‰å“ªäº›é‡è¦ä½†æ¬¡è¦çš„ä¸»é¡Œï¼Ÿ

1. ä¸»é¡Œ 1ï¼š________________
   â€¢ ç›¸é—œç¶“æ–‡ï¼šç¬¬ ___:___
   â€¢ ç°¡è¦èªªæ˜Žï¼š________________

2. ä¸»é¡Œ 2ï¼š________________
   â€¢ ç›¸é—œç¶“æ–‡ï¼šç¬¬ ___:___
   â€¢ ç°¡è¦èªªæ˜Žï¼š________________

3. ä¸»é¡Œ 3ï¼š________________
   â€¢ ç›¸é—œç¶“æ–‡ï¼šç¬¬ ___:___
   â€¢ ç°¡è¦èªªæ˜Žï¼š________________

ã€ä¸»é¡Œæœå°‹ã€‘ï¼š

å°‹æ‰¾è–ç¶“ä¸­å…¶ä»–è«–è¿°ç›¸åŒä¸»é¡Œçš„ç¶“æ–‡ï¼š

```
# æœå°‹ä¸»é¡Œç›¸é—œç¶“æ–‡
search_bible(keyword="[ä¸»é¡Œé—œéµå­—]", version="{version}", limit=10)
```

ã€ä¸»é¡Œç¶“æ–‡ä¸²é€£ã€‘ï¼š

ðŸ“Œ **èˆŠç´„ä¸­çš„è«–è¿°**ï¼š
   â€¢ _______ ___:___ - ________________
   â€¢ _______ ___:___ - ________________

ðŸ“Œ **æ–°ç´„ä¸­çš„è«–è¿°**ï¼š
   â€¢ _______ ___:___ - ________________
   â€¢ _______ ___:___ - ________________

ðŸ“Œ **èˆ‡æœ¬æ®µçš„é—œè¯**ï¼š
   â€¢ å¦‚ä½•å½¼æ­¤å‘¼æ‡‰ï¼Ÿ________________
   â€¢ å¦‚ä½•äº’è£œèªªæ˜Žï¼Ÿ________________
   â€¢ å¦‚ä½•æ¼¸é€²ç™¼å±•ï¼Ÿ________________

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
æ­¥é©Ÿ 4ï¼šé‡é»žç¶“ç¯€ â­
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

æ‰¾å‡ºé€™æ®µç¶“æ–‡ä¸­æœ€é—œéµçš„ 3-5 ç¯€ï¼Œæ·±å…¥åˆ†æžã€‚

ã€é—œéµç¶“ç¯€é¸æ“‡æ¨™æº–ã€‘ï¼š
â€¢ åŒ…å«æ ¸å¿ƒçœŸç†æˆ–å‘½ä»¤
â€¢ æ˜¯æ•´æ®µçš„è½‰æŠ˜é»ž
â€¢ ç‰¹åˆ¥è§¸å‹•äººå¿ƒ
â€¢ ç¥žå­¸æ„ç¾©é‡å¤§
â€¢ å¯¦éš›æ‡‰ç”¨æ€§å¼·

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ã€é—œéµç¶“ç¯€ 1ã€‘{book} ___:___
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ðŸ“– **ç¶“æ–‡å…§å®¹**ï¼š
ã€Œ________________ã€

ðŸ” **ç‚ºä½•é‡è¦**ï¼š
â€¢ ________________
â€¢ ________________

ðŸ“š **åŽŸæ–‡åˆ†æž**ï¼š

ä½¿ç”¨å·¥å…·æ·±å…¥äº†è§£é—œéµå­—ï¼š
```
get_word_analysis(book="{book}", chapter=___, verse=___, version="{version}")
```

é‡è¦å­—è©žï¼š
â€¢ [å­—è©ž 1]ï¼šåŽŸæ–‡ ______ï¼Œæ„æ€æ˜¯ ________________
â€¢ [å­—è©ž 2]ï¼šåŽŸæ–‡ ______ï¼Œæ„æ€æ˜¯ ________________

ðŸ”— **ç›¸é—œç¶“æ–‡**ï¼š
â€¢ _______ ___:___ - ________________
â€¢ _______ ___:___ - ________________

ðŸ’­ **å€‹äººåæ€**ï¼š
â€¢ é€™ç¯€å°æˆ‘èªªäº†ä»€éº¼ï¼Ÿ________________
â€¢ æˆ‘å¦‚ä½•å›žæ‡‰ï¼Ÿ________________

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ã€é—œéµç¶“ç¯€ 2ã€‘{book} ___:___
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ï¼ˆé‡è¤‡ä»¥ä¸Šæ¡†æž¶ï¼‰

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ã€é—œéµç¶“ç¯€ 3ã€‘{book} ___:___
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ï¼ˆé‡è¤‡ä»¥ä¸Šæ¡†æž¶ï¼‰

ã€Strong's ç ”ç©¶ã€‘ï¼š

é‡å°é‡è¦çš„åŽŸæ–‡å­—ï¼š
```
# æŸ¥è©¢ Strong's å­—å…¸
lookup_strongs(testament="nt/ot", strongs_number="___")

# æŸ¥çœ‹é€™å­—åœ¨è–ç¶“ä¸­çš„å…¶ä»–å‡ºç¾
search_strongs_occurrences(testament="nt/ot", strongs_number="___", limit=10)
```

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
æ­¥é©Ÿ 5ï¼šçµæ§‹å¤§ç¶± ðŸ“
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

åˆ†æžé€™æ®µç¶“æ–‡çš„é‚è¼¯çµæ§‹å’Œè«–è­‰æµç¨‹ã€‚

ã€æ–‡å­¸é«”è£ã€‘ï¼š

é€™æ®µå±¬æ–¼å“ªç¨®æ–‡å­¸é«”è£ï¼Ÿ

â–¡ æ•˜äº‹ï¼ˆNarrativeï¼‰
â–¡ è©©æ­Œï¼ˆPoetryï¼‰  
â–¡ å¾‹æ³•ï¼ˆLawï¼‰
â–¡ æ™ºæ…§ï¼ˆWisdomï¼‰
â–¡ é è¨€ï¼ˆProphecyï¼‰
â–¡ æ›¸ä¿¡ï¼ˆEpistleï¼‰
â–¡ å•Ÿç¤ºï¼ˆApocalypticï¼‰

é«”è£ç‰¹å¾µï¼š________________

ã€æ®µè½çµæ§‹ã€‘ï¼š

å°‡é€™æ®µç¶“æ–‡åˆ†æˆå°å–®å…ƒï¼š

```
{passage_ref} - çµæ§‹å¤§ç¶±

I. é–‹å ´/å¼•è¨€ï¼ˆ___:___-___ï¼‰
   ä¸»æ—¨ï¼š________________
   
   A. ________________ï¼ˆ___:___ï¼‰
   B. ________________ï¼ˆ___:___ï¼‰

II. ä¸»é«”/ç™¼å±•ï¼ˆ___:___-___ï¼‰
    ä¸»æ—¨ï¼š________________
    
    A. ç¬¬ä¸€é‡é»žï¼ˆ___:___-___ï¼‰
       1. ________________
       2. ________________
    
    B. ç¬¬äºŒé‡é»žï¼ˆ___:___-___ï¼‰
       1. ________________
       2. ________________
    
    C. ç¬¬ä¸‰é‡é»žï¼ˆ___:___-___ï¼‰
       1. ________________
       2. ________________

III. é«˜æ½®/è½‰æŠ˜ï¼ˆ___:___-___ï¼‰
     ä¸»æ—¨ï¼š________________
     
     A. ________________ï¼ˆ___:___ï¼‰
     B. ________________ï¼ˆ___:___ï¼‰

IV. çµè«–/æ‡‰ç”¨ï¼ˆ___:___-___ï¼‰
    ä¸»æ—¨ï¼š________________
    
    A. ________________ï¼ˆ___:___ï¼‰
    B. ________________ï¼ˆ___:___ï¼‰
```

ã€è«–è­‰æµç¨‹ã€‘ï¼ˆå¦‚æžœæ˜¯èªªç†æ–‡ï¼‰ï¼š

â€¢ å‰æï¼š________________
â€¢ è«–è­‰ï¼š________________
â€¢ çµè«–ï¼š________________

ã€æ•˜äº‹ç™¼å±•ã€‘ï¼ˆå¦‚æžœæ˜¯æ•˜äº‹æ–‡ï¼‰ï¼š

â€¢ èƒŒæ™¯è¨­å®šï¼š________________
â€¢ è¡çªå‡ºç¾ï¼š________________
â€¢ æƒ…ç¯€ç™¼å±•ï¼š________________
â€¢ é«˜æ½®è½‰æŠ˜ï¼š________________
â€¢ çµå±€æ”¶å°¾ï¼š________________

ã€ä¿®è¾­æ‰‹æ³•ã€‘ï¼š

ä½œè€…ä½¿ç”¨äº†å“ªäº›ä¿®è¾­æŠ€å·§ï¼Ÿ

â–¡ æ¯”å–»/æ˜Žå–»
â–¡ å°æ¯”/å°å¶
â–¡ æ¼¸é€²/é«˜æ½®
â–¡ é‡è¤‡/è¿´ç’°
â–¡ åå•/è¨­å•
â–¡ èª‡é£¾/å¼·èª¿

ä¾‹å¦‚ï¼š________________

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
æ­¥é©Ÿ 6ï¼šè§£ç¶“è¦é»ž ðŸ’¡
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

æ·±å…¥è§£é‡‹é€™æ®µç¶“æ–‡çš„æ„ç¾©ï¼Œåƒè€ƒè¨»é‡‹å’Œå…¶ä»–è³‡æºã€‚

ã€æŸ¥çœ‹è¨»é‡‹ã€‘ï¼š
```
# æŸ¥çœ‹è¨»é‡‹
get_commentary(book="{book}", chapter={start_chapter}, verse={start_verse})

# æœå°‹ç›¸é—œè¨»é‡‹
search_commentary(keyword="[é—œéµå­—]", limit=5)

# æŸ¥çœ‹å¯ç”¨è¨»é‡‹æ›¸
list_commentaries()
```

ã€é‡‹ç¶“åŽŸå‰‡ã€‘ï¼š

ðŸ“– **å­—é¢æ„ç¾©ï¼ˆLiteral Senseï¼‰**ï¼š
   ç¶“æ–‡çš„å­—é¢æ„æ€æ˜¯ä»€éº¼ï¼Ÿ
   â€¢ ________________

ðŸ“– **æ­·å²æ„ç¾©ï¼ˆHistorical Senseï¼‰**ï¼š
   å°åŽŸæœ¬è®€è€…çš„æ„ç¾©æ˜¯ä»€éº¼ï¼Ÿ
   â€¢ ________________

ðŸ“– **ç¥žå­¸æ„ç¾©ï¼ˆTheological Senseï¼‰**ï¼š
   é—œæ–¼ç¥žã€äººã€æ•‘æ©çš„çœŸç†æ˜¯ä»€éº¼ï¼Ÿ
   â€¢ ________________

ðŸ“– **å¯¦è¸æ„ç¾©ï¼ˆPractical Senseï¼‰**ï¼š
   å°ä»Šå¤©çš„ä¿¡å¾’æ„å‘³è‘—ä»€éº¼ï¼Ÿ
   â€¢ ________________

ã€é›£è§£ç¶“æ–‡ã€‘ï¼š

é€™æ®µæœ‰å“ªäº›é›£ä»¥ç†è§£çš„åœ°æ–¹ï¼Ÿ

â“ **é›£é¡Œ 1**ï¼šç¬¬ ___:___ ç¯€
   â€¢ å›°é›£é»žï¼š________________
   â€¢ å¯èƒ½è§£é‡‹ï¼š
     - è§£é‡‹ Aï¼š________________
     - è§£é‡‹ Bï¼š________________
   â€¢ æŽ¡ç´è§€é»žï¼š________________
   â€¢ ç†ç”±ï¼š________________

â“ **é›£é¡Œ 2**ï¼šç¬¬ ___:___ ç¯€
   â€¢ å›°é›£é»žï¼š________________
   â€¢ å¯èƒ½è§£é‡‹ï¼š
     - è§£é‡‹ Aï¼š________________
     - è§£é‡‹ Bï¼š________________
   â€¢ æŽ¡ç´è§€é»žï¼š________________
   â€¢ ç†ç”±ï¼š________________

ã€ç¥žå­¸ä¸»é¡Œã€‘ï¼š

ðŸ•Šï¸ **é—œæ–¼ç¥ž**ï¼š
   é€™æ®µæ­ç¤ºäº†ç¥žçš„ä»€éº¼å±¬æ€§æˆ–ä½œç‚ºï¼Ÿ
   â€¢ ________________
   â€¢ ________________

ðŸ‘¤ **é—œæ–¼äºº**ï¼š
   é€™æ®µæ­ç¤ºäº†äººçš„ä»€éº¼æœ¬è³ªæˆ–è™•å¢ƒï¼Ÿ
   â€¢ ________________
   â€¢ ________________

âœï¸ **é—œæ–¼åŸºç£**ï¼š
   é€™æ®µå¦‚ä½•æŒ‡å‘æˆ–å½°é¡¯åŸºç£ï¼Ÿ
   â€¢ ________________
   â€¢ ________________

â›ª **é—œæ–¼æ•™æœƒ**ï¼š
   é€™æ®µå°æ•™æœƒæœ‰ä»€éº¼æ•™å°Žæˆ–æ‡‰ç”¨ï¼Ÿ
   â€¢ ________________
   â€¢ ________________

ðŸŒ **é—œæ–¼æœ«ä¸–**ï¼š
   é€™æ®µæ˜¯å¦æ¶‰åŠæœ«ä¸–æˆ–æ°¸æ†ï¼Ÿ
   â€¢ ________________
   â€¢ ________________

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
æ­¥é©Ÿ 7ï¼šç¥žå­¸åæ€ ðŸ™
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

å¾žç¥žå­¸è§’åº¦æ·±å…¥æ€è€ƒé€™æ®µç¶“æ–‡çš„æ„ç¾©ã€‚

ã€æ•‘æ©æ­·å²ä¸­çš„ä½ç½®ã€‘ï¼š

é€™æ®µç¶“æ–‡åœ¨æ•‘æ©æ­·å²ä¸­æ‰®æ¼”ä»€éº¼è§’è‰²ï¼Ÿ

ðŸ“œ **èˆŠç´„æ™‚æœŸ**ï¼ˆå¦‚æžœé©ç”¨ï¼‰ï¼š
   â€¢ èˆ‡å‰µé€ çš„é—œä¿‚ï¼š________________
   â€¢ èˆ‡å¢®è½çš„é—œä¿‚ï¼š________________
   â€¢ èˆ‡æ‡‰è¨±çš„é—œä¿‚ï¼š________________
   â€¢ èˆ‡å¾‹æ³•çš„é—œä¿‚ï¼š________________
   â€¢ èˆ‡å…ˆçŸ¥çš„é—œä¿‚ï¼š________________

âœï¸ **æ–°ç´„æ™‚æœŸ**ï¼ˆå¦‚æžœé©ç”¨ï¼‰ï¼š
   â€¢ èˆ‡é“æˆè‚‰èº«çš„é—œä¿‚ï¼š________________
   â€¢ èˆ‡åå­—æž¶çš„é—œä¿‚ï¼š________________
   â€¢ èˆ‡å¾©æ´»çš„é—œä¿‚ï¼š________________
   â€¢ èˆ‡è–éˆçš„é—œä¿‚ï¼š________________
   â€¢ èˆ‡æ•™æœƒçš„é—œä¿‚ï¼š________________

â° **æœ«ä¸–æ™‚æœŸ**ï¼š
   â€¢ å°ç¾ä»Šæ•™æœƒçš„æ„ç¾©ï¼š________________
   â€¢ å°å°‡ä¾†ç›¼æœ›çš„æŒ‡å‘ï¼š________________

ã€æ ¸å¿ƒæ•™ç¾©ã€‘ï¼š

é€™æ®µç¶“æ–‡èˆ‡å“ªäº›åŸºè¦æ•™ç¾©ç›¸é—œï¼Ÿ

â–¡ ä¸‰ä½ä¸€é«”
â–¡ åŸºç£è«–
â–¡ æ•‘æ©è«–
â–¡ æ•™æœƒè«–
â–¡ æœ«ä¸–è«–
â–¡ è–ç¶“è«–
â–¡ äººè«–
â–¡ ç½ªè«–

èªªæ˜Žï¼š________________

ã€ç¦éŸ³ä¿¡æ¯ã€‘ï¼š

é€™æ®µå¦‚ä½•é¡¯æ˜Žæˆ–æ‡‰ç”¨ç¦éŸ³ï¼Ÿ

ç½ª â†’ èµ¦ â†’ æ© â†’ ä¿¡ â†’ æ„›

â€¢ **ç½ªçš„è¨ºæ–·**ï¼š________________
â€¢ **èµ¦å…çš„éœ€è¦**ï¼š________________
â€¢ **æ©å…¸çš„ä¾›æ‡‰**ï¼š________________
â€¢ **ä¿¡å¿ƒçš„å›žæ‡‰**ï¼š________________
â€¢ **æ„›çš„å¯¦è¸**ï¼š________________

ã€å±¬éˆæ“ç·´ã€‘ï¼š

é€™æ®µç¶“æ–‡å¼•å°Žæˆ‘å€‘é€²è¡Œå“ªäº›å±¬éˆæ“ç·´ï¼Ÿ

â–¡ ç¦±å‘Š
â–¡ è®€ç¶“
â–¡ æ•¬æ‹œ
â–¡ ç¦é£Ÿ
â–¡ é»˜æƒ³
â–¡ æœäº‹
â–¡ æ–½æ¨
â–¡ åœ˜å¥‘
â–¡ è¦‹è­‰

å…·é«”èªªæ˜Žï¼š________________

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
æ­¥é©Ÿ 8ï¼šå¯¦éš›æ‡‰ç”¨ ðŸŒŸ
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

å°‡ç¶“æ–‡çš„çœŸç†è½‰åŒ–ç‚ºç”Ÿæ´»ä¸­çš„å…·é«”è¡Œå‹•ã€‚

ã€æ‡‰ç”¨åŽŸå‰‡ã€‘ï¼š

å¾žè§£é‡‹åˆ°æ‡‰ç”¨çš„æ©‹æ¨‘ï¼š

1. **æ°¸æ†çœŸç†**ï¼š
   é€™æ®µç¶“æ–‡çš„æ°¸æ†ä¸è®ŠçœŸç†æ˜¯ä»€éº¼ï¼Ÿ
   â€¢ ________________

2. **æ–‡åŒ–å·®ç•°**ï¼š
   åŽŸæœ¬çš„æ–‡åŒ–è™•å¢ƒèˆ‡ä»Šå¤©æœ‰ä»€éº¼ä¸åŒï¼Ÿ
   â€¢ ________________

3. **ç›¸ä¼¼è™•å¢ƒ**ï¼š
   ä»Šå¤©æœ‰å“ªäº›é¡žä¼¼çš„è™•å¢ƒï¼Ÿ
   â€¢ ________________

4. **æ‡‰ç”¨æ–¹å‘**ï¼š
   çœŸç†å¦‚ä½•æ‡‰ç”¨åœ¨ä»Šå¤©çš„è™•å¢ƒä¸­ï¼Ÿ
   â€¢ ________________

ã€ç”Ÿå‘½æª¢è¦–ã€‘ï¼š

å°ç…§é€™æ®µç¶“æ–‡ï¼Œæª¢è¦–è‡ªå·±çš„ç”Ÿå‘½ï¼š

ðŸ’­ **ä¿¡ä»°å±¤é¢**ï¼š
   â€¢ æˆ‘å°ç¥žçš„èªè­˜æ˜¯å¦æ­£ç¢ºï¼Ÿ________________
   â€¢ æˆ‘çš„ä¿¡å¿ƒæ˜¯å¦å …å›ºï¼Ÿ________________
   â€¢ æˆ‘æ˜¯å¦ç›¸ä¿¡ç¥žçš„æ‡‰è¨±ï¼Ÿ________________

ðŸ’­ **å“æ ¼å±¤é¢**ï¼š
   â€¢ æˆ‘éœ€è¦åŸ¹é¤Šä»€éº¼ç¾Žå¾·ï¼Ÿ________________
   â€¢ æˆ‘éœ€è¦é™¤åŽ»ä»€éº¼æƒ¡ç¿’ï¼Ÿ________________
   â€¢ æˆ‘éœ€è¦æ”¹è®Šä»€éº¼æ…‹åº¦ï¼Ÿ________________

ðŸ’­ **é—œä¿‚å±¤é¢**ï¼š
   â€¢ èˆ‡ç¥žçš„é—œä¿‚ï¼š________________
   â€¢ èˆ‡å®¶äººçš„é—œä¿‚ï¼š________________
   â€¢ èˆ‡å¼Ÿå…„å§Šå¦¹çš„é—œä¿‚ï¼š________________
   â€¢ èˆ‡éžä¿¡å¾’çš„é—œä¿‚ï¼š________________

ðŸ’­ **æœäº‹å±¤é¢**ï¼š
   â€¢ æˆ‘ç•¶å¦‚ä½•äº‹å¥‰ç¥žï¼Ÿ________________
   â€¢ æˆ‘ç•¶å¦‚ä½•æœäº‹äººï¼Ÿ________________
   â€¢ æˆ‘ç•¶å¦‚ä½•ä½¿ç”¨æ©è³œï¼Ÿ________________

ã€å…·é«”è¡Œå‹•ã€‘ï¼š

æœ¬é€±çš„ SMART è¡Œå‹•è¨ˆç•«ï¼š

ðŸ“‹ **è¡Œå‹• 1**ï¼š
   â€¢ Specificï¼ˆå…·é«”ï¼‰ï¼š________________
   â€¢ Measurableï¼ˆå¯è¡¡é‡ï¼‰ï¼š________________
   â€¢ Achievableï¼ˆå¯å¯¦ç¾ï¼‰ï¼š________________
   â€¢ Relevantï¼ˆç›¸é—œï¼‰ï¼š________________
   â€¢ Time-boundï¼ˆæœ‰æ™‚é™ï¼‰ï¼š________________

ðŸ“‹ **è¡Œå‹• 2**ï¼š
   â€¢ Specificï¼ˆå…·é«”ï¼‰ï¼š________________
   â€¢ Measurableï¼ˆå¯è¡¡é‡ï¼‰ï¼š________________
   â€¢ Achievableï¼ˆå¯å¯¦ç¾ï¼‰ï¼š________________
   â€¢ Relevantï¼ˆç›¸é—œï¼‰ï¼š________________
   â€¢ Time-boundï¼ˆæœ‰æ™‚é™ï¼‰ï¼š________________

ã€å•è²¬å¤¥ä¼´ã€‘ï¼š

â€¢ èˆ‡èª°åˆ†äº«é€™å€‹é ˜å—ï¼Ÿ________________
â€¢ å¦‚ä½•å½¼æ­¤å•è²¬ï¼Ÿ________________
â€¢ ä½•æ™‚æª¢è¦–é€²åº¦ï¼Ÿ________________

ã€ç¦±å‘Šå›žæ‡‰ã€‘ï¼š

æ ¹æ“šé€™æ®µç¶“æ–‡ï¼Œå¯«ä¸‹ä½ çš„ç¦±å‘Šï¼š

```
è¦ªæ„›çš„å¤©çˆ¶ï¼š

æ„Ÿè¬ç¥¢é€éŽã€Š{book}ã€‹{start_chapter}:{start_verse}-{end_chapter}:{end_verse} å‘æˆ‘èªªè©±...

ï¼ˆæ ¹æ“šä½ çš„é ˜å—ï¼ŒåŒ…æ‹¬æ•¬æ‹œã€èªç½ªã€æ„Ÿæ©ã€ç¥ˆæ±‚ï¼‰

æ±‚ç¥¢å¹«åŠ©æˆ‘...

å¥‰ä¸»è€¶ç©ŒåŸºç£çš„åç¦±å‘Šï¼Œé˜¿å€‘ã€‚
```

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ðŸ“Š ç ”è®€ç¸½çµ
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ã€ä¸€å¥è©±ç¸½çµã€‘ï¼š
é€™æ®µç¶“æ–‡çš„æ ¸å¿ƒä¿¡æ¯ï¼šã€Œ________________ã€

ã€ä¸‰å€‹è¦é»žã€‘ï¼š
1. ________________
2. ________________
3. ________________

ã€é‡‘å¥ã€‘ï¼š
{book} ___:___
ã€Œ________________ã€

ã€æ‡‰ç”¨ã€‘ï¼š
æœ¬é€±æˆ‘è¦ï¼š________________

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ðŸŽ¯ å»¶ä¼¸ç ”è®€å»ºè­°
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ã€æ·±å…¥ç ”ç¶“ã€‘ï¼š
â€¢ ä½¿ç”¨ `study_verse_deep` æ·±å…¥ç ”è®€é—œéµç¶“ç¯€
â€¢ ä½¿ç”¨ `study_topic_deep` ç ”ç©¶ç›¸é—œä¸»é¡Œ
â€¢ ä½¿ç”¨ `study_translation_compare` æ¯”è¼ƒä¸åŒè­¯æœ¬
â€¢ ä½¿ç”¨ `study_word_original` ç ”ç©¶åŽŸæ–‡å­—è©ž

ã€ç›¸é—œæ®µè½ã€‘ï¼š
â€¢ å‰ä¸€æ®µï¼š{book} {max(1, start_chapter-1)}ç« 
â€¢ å¾Œä¸€æ®µï¼š{book} {end_chapter+1}ç« 
â€¢ å¹³è¡Œç¶“æ–‡ï¼š________________

ã€ä¸»é¡ŒæŸ¥ç¶“ã€‘ï¼š
```
# æœå°‹ç›¸é—œä¸»é¡Œ
search_bible(keyword="[ä¸»é¡Œ]", version="{version}", limit=15)
```

ã€å°çµ„è¨Žè«–ã€‘ï¼š
é€™æ®µç¶“æ–‡é©åˆå°çµ„è¨Žè«–ï¼Œå¯ä»¥åˆ†äº«ï¼š
â€¢ å„äººä¸åŒçš„é ˜å—
â€¢ å…·é«”çš„æ‡‰ç”¨ä¾‹å­
â€¢ å½¼æ­¤çš„ä»£ç¦±äº‹é …

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ðŸ“– é¡˜ç¥žçš„è©±èªžç…§äº®ä½ çš„å¿ƒï¼
ðŸ’¡ é¡˜è–éˆå¼•å°Žä½ é€²å…¥çœŸç†ï¼
ðŸ™ é¡˜ä½ åœ¨åŸºç£è£¡ä¸æ–·æˆé•·ï¼

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
"""
    
    def _format_passage_reference(
        self,
        book: str,
        start_chapter: int,
        start_verse: int,
        end_chapter: int,
        end_verse: int
    ) -> str:
        """æ ¼å¼åŒ–ç¶“æ–‡å¼•ç”¨"""
        if start_chapter == end_chapter:
            return f"{book} {start_chapter}:{start_verse}-{end_verse}"
        else:
            return f"{book} {start_chapter}:{start_verse} - {end_chapter}:{end_verse}"
    
    def _render_fetch_commands(
        self,
        book: str,
        start_chapter: int,
        start_verse: int,
        end_chapter: int,
        end_verse: int,
        version: str
    ) -> str:
        """æ¸²æŸ“ç²å–ç¶“æ–‡çš„å‘½ä»¤"""
        if start_chapter == end_chapter:
            # åŒä¸€ç« å…§çš„æ®µè½
            return f"""```
# æ–¹å¼ 1ï¼šä½¿ç”¨ get_bible_verse ç²å–ç¯„åœç¶“æ–‡
get_bible_verse(
    book="{book}",
    chapter={start_chapter},
    verse={start_verse},
    end_verse={end_verse},
    version="{version}"
)

# æ–¹å¼ 2ï¼šå¦‚æžœéœ€è¦çœ‹æ›´å¤šä¸Šä¸‹æ–‡ï¼Œç²å–æ•´ç« 
get_bible_chapter(book="{book}", chapter={start_chapter}, version="{version}")
# ç„¶å¾Œé‡é»žé—œæ³¨ç¬¬ {start_verse}-{end_verse} ç¯€
```"""
        else:
            # è·¨ç« ç¯€çš„æ®µè½
            return f"""```
# è·¨ç« ç¯€æ®µè½ï¼Œéœ€è¦åˆ†åˆ¥ç²å–

# ç¬¬ä¸€éƒ¨åˆ†ï¼š{book} {start_chapter}:{start_verse} åˆ°ç« æœ«
get_bible_verse(
    book="{book}",
    chapter={start_chapter},
    verse={start_verse},
    version="{version}"
)

{self._render_middle_chapters(book, start_chapter, end_chapter, version)}

# æœ€å¾Œéƒ¨åˆ†ï¼š{book} {end_chapter}:1-{end_verse}
get_bible_verse(
    book="{book}",
    chapter={end_chapter},
    verse=1,
    end_verse={end_verse},
    version="{version}"
)

# æˆ–è€…ï¼Œä¹Ÿå¯ä»¥é€ç« ç²å–å®Œæ•´å…§å®¹
{"".join(f'''
get_bible_chapter(book="{book}", chapter={ch}, version="{version}")''' 
for ch in range(start_chapter, end_chapter + 1))}
```"""
    
    def _render_middle_chapters(
        self,
        book: str,
        start_chapter: int,
        end_chapter: int,
        version: str
    ) -> str:
        """æ¸²æŸ“ä¸­é–“ç« ç¯€çš„å‘½ä»¤"""
        if end_chapter - start_chapter <= 1:
            return ""
        
        commands = []
        for ch in range(start_chapter + 1, end_chapter):
            commands.append(f"""
# ä¸­é–“ç« ç¯€ï¼š{book} {ch} ç« ï¼ˆå®Œæ•´ï¼‰
get_bible_chapter(book="{book}", chapter={ch}, version="{version}")""")
        
        return "".join(commands)

